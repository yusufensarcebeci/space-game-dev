{"version":3,"sources":["file:///D:/CocosProjects/bionluk/muratcanko/SpaceGame/SpaceGame3D/assets/scripts/Player.ts"],"names":["_decorator","Component","Vec3","JoystickController","Camera","ccclass","property","Player","Number","update","dt","joystickController","direction","getDirection","length","moveVector","x","y","multiplyScalar","movementSpeed","newPosition","node","getPosition","add","setPosition","lateUpdate","camera","follow"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;AAAiBC,MAAAA,I,OAAAA,I;;AAC7BC,MAAAA,kB,iBAAAA,kB;;AACAC,MAAAA,M,iBAAAA,M;;;;;;;;;OACH;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBN,U;;wBAGjBO,M,WADZF,OAAO,CAAC,QAAD,C,UAGLC,QAAQ,CAACE,MAAD,C,UACRF,QAAQ;AAAA;AAAA,mD,UAERA,QAAQ;AAAA;AAAA,2B,2BANX,MACaC,MADb,SAC4BN,SAD5B,CACsC;AAAA;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAO1BQ,QAAAA,MAAM,CAACC,EAAD,EAAmB;AAC3B,cAAI,KAAKC,kBAAT,EAA6B;AAC3B,kBAAMC,SAAS,GAAG,KAAKD,kBAAL,CAAwBE,YAAxB,EAAlB;;AACA,gBAAID,SAAS,CAACE,MAAV,KAAqB,CAAzB,EAA4B;AAC1B,oBAAMC,UAAU,GAAG,IAAIb,IAAJ,CACjBU,SAAS,CAACI,CADO,EAEjBJ,SAAS,CAACK,CAFO,EAGjB,CAHiB,EAIjBC,cAJiB,CAIF,KAAKC,aAAL,GAAqBT,EAJnB,CAAnB;AAKA,oBAAMU,WAAW,GAAG,KAAKC,IAAL,CAAUC,WAAV,GAAwBC,GAAxB,CAA4BR,UAA5B,CAApB;AACA,mBAAKM,IAAL,CAAUG,WAAV,CAAsBJ,WAAtB;AACD;AACF;AACR;;AAESK,QAAAA,UAAU,CAACf,EAAD,EAAmB;AACrC,eAAKgB,MAAL,CAAYC,MAAZ,CAAmB,KAAKN,IAAxB;AACD;;AAxBmC,O;;;;;iBAEM,E;;;;;;;iBAC6B,I;;;;;;;iBAEpC,I","sourcesContent":["import { _decorator, Component, Node, Vec3 } from 'cc';\r\nimport { JoystickController } from './JoystickController';\r\nimport { Camera } from './Camera';\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass(\"Player\")\r\nexport class Player extends Component {\r\n  \r\n  @property(Number) movementSpeed: number = 10; \r\n  @property(JoystickController) joystickController: JoystickController = null;\r\n\r\n  @property(Camera) camera: Camera = null;\r\n\r\n  protected update(dt: number): void {\r\n          if (this.joystickController) {\r\n            const direction = this.joystickController.getDirection();\r\n            if (direction.length() > 0) {\r\n              const moveVector = new Vec3(\r\n                direction.x,\r\n                direction.y,\r\n                0\r\n              ).multiplyScalar(this.movementSpeed * dt);\r\n              const newPosition = this.node.getPosition().add(moveVector);\r\n              this.node.setPosition(newPosition);\r\n            }\r\n          }\r\n  }\r\n\r\n  protected lateUpdate(dt: number): void {\r\n    this.camera.follow(this.node)\r\n  }\r\n\r\n\r\n  \r\n}\r\n\r\n\r\n"]}