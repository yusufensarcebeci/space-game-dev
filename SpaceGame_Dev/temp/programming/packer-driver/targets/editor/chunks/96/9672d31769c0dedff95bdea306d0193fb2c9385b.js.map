{"version":3,"sources":["file:///D:/CocosProjects/bionluk/muratcanko/SpaceGame/SpaceGame3D/assets/scripts/JoystickController.ts"],"names":["_decorator","Component","Input","input","Node","ccclass","property","JoystickController","onLoad","on","EventType","TOUCH_START","onTouchStart","TOUCH_MOVE","onTouchMove","TOUCH_END","onTouchEnd","event","console","log","joystick","setPosition","touches","startPoint","touchPos","getUILocation"],"mappings":";;;;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;AAAWC,MAAAA,K,OAAAA,K;AAAOC,MAAAA,K,OAAAA,K;AAAOC,MAAAA,I,OAAAA,I;;;;;;;;;OACxC;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBN,U;;oCAGjBO,kB,WADZF,OAAO,CAAC,oBAAD,C,UAELC,QAAQ,CAACF,IAAD,C,UACRE,QAAQ,CAACF,IAAD,C,2BAHX,MACaG,kBADb,SACwCN,SADxC,CACkD;AAAA;AAAA;;AAAA;;AAAA;AAAA;;AAIhDO,QAAAA,MAAM,GAAG;AACP;AACAL,UAAAA,KAAK,CAACM,EAAN,CAASP,KAAK,CAACQ,SAAN,CAAgBC,WAAzB,EAAsC,KAAKC,YAA3C,EAAyD,IAAzD;AACAT,UAAAA,KAAK,CAACM,EAAN,CAASP,KAAK,CAACQ,SAAN,CAAgBG,UAAzB,EAAqC,KAAKC,WAA1C,EAAuD,IAAvD;AACAX,UAAAA,KAAK,CAACM,EAAN,CAASP,KAAK,CAACQ,SAAN,CAAgBK,SAAzB,EAAoC,KAAKC,UAAzC,EAAqD,IAArD;AACD;;AAEDJ,QAAAA,YAAY,CAACK,KAAD,EAAQ;AAClBC,UAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ,EADkB,CAElB;;AACA,eAAKG,QAAL,CAAcC,WAAd,CAA0BJ,KAAK,CAACK,OAAN,CAAc,CAAd,EAAiBC,UAA3C;AACD;;AAEDT,QAAAA,WAAW,CAACG,KAAD,EAAQ;AACjB;AACA,gBAAMO,QAAQ,GAAGP,KAAK,CAACQ,aAAN,EAAjB,CAFiB,CAGjB;AACA;AAEA;AACD;;AAEDT,QAAAA,UAAU,CAACC,KAAD,EAAQ;AAChBC,UAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ,EADgB,CAGhB;AACA;AACD;;AA/B+C,O;;;;;iBACjB,I;;;;;;;iBACE,I","sourcesContent":["import { _decorator, Component, Input, input, Node } from \"cc\";\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass(\"JoystickController\")\r\nexport class JoystickController extends Component {\r\n  @property(Node) player: Node = null;\r\n  @property(Node) joystick: Node = null;\r\n\r\n  onLoad() {\r\n    // this.startPos.set(this.joystick.getPosition());\r\n    input.on(Input.EventType.TOUCH_START, this.onTouchStart, this);\r\n    input.on(Input.EventType.TOUCH_MOVE, this.onTouchMove, this);\r\n    input.on(Input.EventType.TOUCH_END, this.onTouchEnd, this);\r\n  }\r\n\r\n  onTouchStart(event) {\r\n    console.log(event);\r\n    // Joystick başlangıç konumunu ayarla\r\n    this.joystick.setPosition(event.touches[0].startPoint)\r\n  }\r\n\r\n  onTouchMove(event) {\r\n    // Joystick hareketini hesapla ve player'ı hareket ettir\r\n    const touchPos = event.getUILocation();\r\n    // const delta = touchPos.subtract(this.startPos);\r\n    // const moveDir = new Vec3(delta.x, 0, delta.y).normalize().multiplyScalar(0.1);\r\n\r\n    // this.player.setPosition(this.player.position.add(moveDir));\r\n  }\r\n\r\n  onTouchEnd(event) {\r\n    console.log(event);\r\n\r\n    // Joystick sıfırlanması\r\n    // this.joystick.setPosition(this.startPos);\r\n  }\r\n}\r\n"]}