{"version":3,"sources":["file:///D:/CocosProjects/bionluk/muratcanko/SpaceGame/SpaceGame3D/assets/scripts/EnemyManager.ts"],"names":["_decorator","Component","instantiate","Prefab","randomRange","Vec3","ccclass","property","EnemyManager","Number","spawnDepth","enemyPool","onLoad","initializeEnemyPool","i","poolSize","enemy","enemyPrefab","active","node","addChild","push","console","log","spawnEnemies","resetEnemy","randomX","spawnRangeX","randomY","spawnRangeY","setPosition"],"mappings":";;;;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;AAAWC,MAAAA,W,OAAAA,W;AAAmBC,MAAAA,M,OAAAA,M;AAAQC,MAAAA,W,OAAAA,W;AAAaC,MAAAA,I,OAAAA,I;;;;;;;;;OAClE;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBP,U;;8BAGjBQ,Y,WADZF,OAAO,CAAC,cAAD,C,UAELC,QAAQ,CAACJ,MAAD,C,UACRI,QAAQ,CAACE,MAAD,C,UACRF,QAAQ,CAACE,MAAD,C,UACRF,QAAQ,CAACE,MAAD,C,2BALX,MACaD,YADb,SACkCP,SADlC,CAC4C;AAAA;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA,eAM1CS,UAN0C,GAMpB,CANoB;AAAA,eAQlCC,SARkC,GAQd,EARc;AAAA;;AAUhCC,QAAAA,MAAM,GAAS;AACvB,eAAKC,mBAAL;AACD;;AAEOA,QAAAA,mBAAmB,GAAG;AAC5B,eAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,KAAKC,QAAzB,EAAmCD,CAAC,EAApC,EAAwC;AACtC,kBAAME,KAAK,GAAGd,WAAW,CAAC,KAAKe,WAAN,CAAzB;AACAD,YAAAA,KAAK,CAACE,MAAN,GAAe,KAAf;AACA,iBAAKC,IAAL,CAAUC,QAAV,CAAmBJ,KAAnB;AACA,iBAAKL,SAAL,CAAeU,IAAf,CAAoBL,KAApB;AACAM,YAAAA,OAAO,CAACC,GAAR,CAAYP,KAAZ;AACD;AACF;;AAEOQ,QAAAA,YAAY,GAAG;AACrB,eAAK,IAAIR,KAAT,IAAkB,KAAKL,SAAvB,EAAkC;AAChC,iBAAKc,UAAL,CAAgBT,KAAhB;AACD;AACF;;AAEOS,QAAAA,UAAU,CAACT,KAAD,EAAc;AAC9B,gBAAMU,OAAO,GAAGtB,WAAW,CAAC,CAAC,KAAKuB,WAAP,EAAoB,KAAKA,WAAzB,CAA3B;AACA,gBAAMC,OAAO,GAAGxB,WAAW,CAAC,CAAC,KAAKyB,WAAP,EAAoB,KAAKA,WAAzB,CAA3B;AACAb,UAAAA,KAAK,CAACc,WAAN,CAAkB,IAAIzB,IAAJ,CAASqB,OAAT,EAAkBE,OAAlB,EAA2B,CAA3B,CAAlB;AACAZ,UAAAA,KAAK,CAACE,MAAN,GAAe,IAAf;AACD;;AAnCyC,O;;;;;iBACF,I;;;;;;;iBACH,E;;;;;;;iBACG,E;;;;;;;iBACA,E","sourcesContent":["import { _decorator, Component, instantiate, Node, Prefab, randomRange, Vec3 } from \"cc\";\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass(\"EnemyManager\")\r\nexport class EnemyManager extends Component {\r\n  @property(Prefab) enemyPrefab: Prefab = null;\r\n  @property(Number) poolSize: number = 10;\r\n  @property(Number) spawnRangeX: number = 20;\r\n  @property(Number) spawnRangeY: number = 10;\r\n\r\n  spawnDepth : number = 0;\r\n\r\n  private enemyPool: Node[] = [];\r\n\r\n  protected onLoad(): void {\r\n    this.initializeEnemyPool();\r\n  }\r\n\r\n  private initializeEnemyPool() {\r\n    for (let i = 0; i < this.poolSize; i++) {\r\n      const enemy = instantiate(this.enemyPrefab);\r\n      enemy.active = false;\r\n      this.node.addChild(enemy);\r\n      this.enemyPool.push(enemy);\r\n      console.log(enemy);\r\n    }\r\n  }\r\n\r\n  private spawnEnemies() {\r\n    for (let enemy of this.enemyPool) {\r\n      this.resetEnemy(enemy);\r\n    }\r\n  }\r\n\r\n  private resetEnemy(enemy: Node) {\r\n    const randomX = randomRange(-this.spawnRangeX, this.spawnRangeX);\r\n    const randomY = randomRange(-this.spawnRangeY, this.spawnRangeY);\r\n    enemy.setPosition(new Vec3(randomX, randomY, 0));\r\n    enemy.active = true;\r\n  }\r\n}\r\n"]}