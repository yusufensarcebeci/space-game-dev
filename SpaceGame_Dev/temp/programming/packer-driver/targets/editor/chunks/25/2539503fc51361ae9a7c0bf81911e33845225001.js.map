{"version":3,"sources":["file:///D:/CocosProjects/bionluk/muratcanko/SpaceGame/SpaceGame3D/assets/scripts/JoystickController.ts"],"names":["_decorator","Component","Node","Vec2","ccclass","property","JoystickController","onLoad","console","log","node","name","on","EventType","TOUCH_MOVE","onTouchMove","TOUCH_END","onTouchEnd","TOUCH_CANCEL","event","screen_pos","getLocation","pos","stick","setPosition"],"mappings":";;;;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;AAAqCC,MAAAA,I,OAAAA,I;AAAMC,MAAAA,I,OAAAA,I;;;;;;;;;OAC1D;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBL,U;;oCAGjBM,kB,WADZF,OAAO,CAAC,oBAAD,C,UAELC,QAAQ,CAACH,IAAD,C,UACRG,QAAQ,CAACH,IAAD,C,2BAHX,MACaI,kBADb,SACwCL,SADxC,CACkD;AAAA;AAAA;;AAAA;;AAAA;AAAA;;AAIhDM,QAAAA,MAAM,GAAG;AACPC,UAAAA,OAAO,CAACC,GAAR,CAAY,KAAKC,IAAL,CAAUC,IAAtB,EADO,CAEP;;AACA,eAAKD,IAAL,CAAUE,EAAV,CAAaV,IAAI,CAACW,SAAL,CAAeC,UAA5B,EAAuC,KAAKC,WAA5C,EAAwD,IAAxD;AACA,eAAKL,IAAL,CAAUE,EAAV,CAAaV,IAAI,CAACW,SAAL,CAAeG,SAA5B,EAAsC,KAAKC,UAA3C,EAAsD,IAAtD;AACA,eAAKP,IAAL,CAAUE,EAAV,CAAaV,IAAI,CAACW,SAAL,CAAeK,YAA5B,EAAyC,KAAKD,UAA9C,EAAyD,IAAzD;AAED;;AAEOF,QAAAA,WAAW,CAAEI,KAAF,EAAqB;AAClC,gBAAMC,UAAU,GAAGD,KAAK,CAACE,WAAN,EAAnB;AACA,gBAAMC,GAAG,GAAG,KAAKZ,IAAjB;AAEA,eAAKa,KAAL,CAAWC,WAAX,CAAuBF,GAAvB;AACL;;AACOL,QAAAA,UAAU,CAAEE,KAAF,EAAqB;AACrC,eAAKI,KAAL,CAAWC,WAAX,CAAuB,IAAIrB,IAAJ,EAAvB;AACD;;AArB+C,O;;;;;iBACjB,I;;;;;;;iBACD,I","sourcesContent":["import { _decorator, Component, EventTouch, Input, input, Node, Vec2, Vec3 } from \"cc\";\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass(\"JoystickController\")\r\nexport class JoystickController extends Component {\r\n  @property(Node) player: Node = null;\r\n  @property(Node) stick: Node = null;\r\n\r\n  onLoad() {\r\n    console.log(this.node.name);\r\n    // this.node.on(Node.EventType.TOUCH_START,this.onTouchStart,this)\r\n    this.node.on(Node.EventType.TOUCH_MOVE,this.onTouchMove,this)\r\n    this.node.on(Node.EventType.TOUCH_END,this.onTouchEnd,this)\r\n    this.node.on(Node.EventType.TOUCH_CANCEL,this.onTouchEnd,this)\r\n    \r\n  }\r\n\r\n  private onTouchMove (event : EventTouch){\r\n        const screen_pos = event.getLocation();\r\n        const pos = this.node\r\n\r\n        this.stick.setPosition(pos)\r\n  }\r\n  private onTouchEnd (event : EventTouch){\r\n    this.stick.setPosition(new Vec2())\r\n  }\r\n  \r\n\r\n \r\n}\r\n"]}