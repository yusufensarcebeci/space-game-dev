{"version":3,"sources":["file:///D:/CocosProjects/bionluk/muratcanko/SpaceGame/SpaceGame3D/assets/scripts/JoystickController.ts"],"names":["_decorator","Component","Input","input","Node","Vec3","ccclass","property","JoystickController","onLoad","on","EventType","TOUCH_START","onTouchStart","TOUCH_MOVE","onTouchMove","TOUCH_END","onTouchEnd","event","console","log","joystick","setPosition","touchPos","getUILocation"],"mappings":";;;;;;;;;;;;;;;;AAASA,MAAAA,U,OAAAA,U;AAAYC,MAAAA,S,OAAAA,S;AAAWC,MAAAA,K,OAAAA,K;AAAOC,MAAAA,K,OAAAA,K;AAAOC,MAAAA,I,OAAAA,I;AAAMC,MAAAA,I,OAAAA,I;;;;;;;;;OAC9C;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBP,U;;oCAGjBQ,kB,WADZF,OAAO,CAAC,oBAAD,C,UAELC,QAAQ,CAACH,IAAD,C,UACRG,QAAQ,CAACH,IAAD,C,2BAHX,MACaI,kBADb,SACwCP,SADxC,CACkD;AAAA;AAAA;;AAAA;;AAAA;AAAA;;AAIhDQ,QAAAA,MAAM,GAAG;AACP;AACAN,UAAAA,KAAK,CAACO,EAAN,CAASR,KAAK,CAACS,SAAN,CAAgBC,WAAzB,EAAsC,KAAKC,YAA3C,EAAyD,IAAzD;AACAV,UAAAA,KAAK,CAACO,EAAN,CAASR,KAAK,CAACS,SAAN,CAAgBG,UAAzB,EAAqC,KAAKC,WAA1C,EAAuD,IAAvD;AACAZ,UAAAA,KAAK,CAACO,EAAN,CAASR,KAAK,CAACS,SAAN,CAAgBK,SAAzB,EAAoC,KAAKC,UAAzC,EAAqD,IAArD;AACD;;AAEDJ,QAAAA,YAAY,CAACK,KAAD,EAAQ;AAClBC,UAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ,EADkB,CAElB;;AACA,eAAKG,QAAL,CAAcC,WAAd,CAA0B,IAAIjB,IAAJ,CAAS,CAAT,EAAW,CAAX,EAAa,CAAb,CAA1B;AACD;;AAEDU,QAAAA,WAAW,CAACG,KAAD,EAAQ;AACjB;AACA,cAAMK,QAAQ,GAAGL,KAAK,CAACM,aAAN,EAAjB,CAFiB,CAGjB;AACA;AAEA;AACD;;AAEDP,QAAAA,UAAU,CAACC,KAAD,EAAQ;AAChBC,UAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ,EADgB,CAGhB;AACA;AACD;;AA/B+C,O;;;;;iBACjB,I;;;;;;;iBACE,I","sourcesContent":["import { _decorator, Component, Input, input, Node, Vec3 } from \"cc\";\r\nconst { ccclass, property } = _decorator;\r\n\r\n@ccclass(\"JoystickController\")\r\nexport class JoystickController extends Component {\r\n  @property(Node) player: Node = null;\r\n  @property(Node) joystick: Node = null;\r\n\r\n  onLoad() {\r\n    // this.startPos.set(this.joystick.getPosition());\r\n    input.on(Input.EventType.TOUCH_START, this.onTouchStart, this);\r\n    input.on(Input.EventType.TOUCH_MOVE, this.onTouchMove, this);\r\n    input.on(Input.EventType.TOUCH_END, this.onTouchEnd, this);\r\n  }\r\n\r\n  onTouchStart(event) {\r\n    console.log(event);\r\n    // Joystick başlangıç konumunu ayarla\r\n    this.joystick.setPosition(new Vec3(2,2,0))\r\n  }\r\n\r\n  onTouchMove(event) {\r\n    // Joystick hareketini hesapla ve player'ı hareket ettir\r\n    const touchPos = event.getUILocation();\r\n    // const delta = touchPos.subtract(this.startPos);\r\n    // const moveDir = new Vec3(delta.x, 0, delta.y).normalize().multiplyScalar(0.1);\r\n\r\n    // this.player.setPosition(this.player.position.add(moveDir));\r\n  }\r\n\r\n  onTouchEnd(event) {\r\n    console.log(event);\r\n\r\n    // Joystick sıfırlanması\r\n    // this.joystick.setPosition(this.startPos);\r\n  }\r\n}\r\n"]}